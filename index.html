
<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>T√Ωden div≈Ø 2025 - Schedule</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f8f8f8; color: #333; }
    header { background: #2c3e50; color: white; padding: 1em; text-align: center; }
    .day { background: white; margin: 10px; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
    .day-header { background: #3498db; color: white; padding: 10px; cursor: pointer; font-weight: bold; }
    .events { display: none; padding: 10px; }
    .event { padding: 5px 0; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; }
    .event:last-child { border-bottom: none; }
    .calendar-btn { background: #2ecc71; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 0.8em; margin-left: 4px;}
    .map-btn { background: #e74c3c; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 0.8em; margin-left: 4px;}
    .toggle-lang { position: fixed; top: 10px; right: 10px; background: #e67e22; color: white; border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; }
  </style>
</head>
<body>
  <header>T√Ωden div≈Ø 2025</header>
  <button class="toggle-lang" onclick="toggleLanguage()">English</button>

  <div id="schedule"></div>

  <script>
    const physicalLocations = [
      "Kolof√≠kovo n√°b≈ôe≈æ√≠",
      "Orlovna",
      "Are√°l Zdrav√≠ Kyle≈°ovice",
      "Raketa bowling",
      "Chval√≠kovice",
      "U P≈ôemka",
      "Ev≈æen"
    ];

    const schedule = [{"date": "P√°tek 01.08.2025", "events": [{"time": "18:00", "cs": "Seznamovac√≠ veƒç√≠rek (PIMLICO ‚Äì U P≈ôemka)", "en": "Welcome Party (PIMLICO ‚Äì U P≈ôemka)"}, {"time": "19:00", "cs": "Mach√°ƒçek (Mach√°ƒçek ar√©na)", "en": "Mach√°ƒçek (Mach√°ƒçek Arena)"}, {"time": "21:00", "cs": "8 stateƒçn√Ωch ‚Äì Masters", "en": "8 Brave ‚Äì Masters"}, {"time": "22:00", "cs": "Prom√≠t√°n√≠ dokumentu TD + historie", "en": "TD Documentary & History Screening"}]}, {"date": "Sobota 02.08.2025", "events": [{"time": "13:00", "cs": "Motanice (Kolof√≠kovo n√°b≈ôe≈æ√≠)", "en": "Dizzy Race (Kolof√≠kovo n√°b≈ôe≈æ√≠)"}, {"time": "14:00", "cs": "Pit√≠ piva na hlavƒõ (Kolof√≠kovo n√°b≈ôe≈æ√≠)", "en": "Beer Drinking on Head (Kolof√≠kovo n√°b≈ôe≈æ√≠)"}, {"time": "15:00", "cs": "P≈ôetahov√°n√≠ lanem (Kolof√≠kovo n√°b≈ôe≈æ√≠)", "en": "Tug of War (Kolof√≠kovo n√°b≈ôe≈æ√≠)"}, {"time": "17:00", "cs": "Brod (Kolof√≠kovo n√°b≈ôe≈æ√≠)", "en": "Stream Crossing (Kolof√≠kovo n√°b≈ôe≈æ√≠)"}, {"time": "18:00", "cs": "Memori√°l T√°ni ≈†tƒõrbov√© - Ku≈æelky (Kolof√≠kovo n√°b≈ôe≈æ√≠)", "en": "T√°≈àa ≈†tƒõrbov√° Memorial ‚Äì Bowling Pins (Kolof√≠kovo n√°b≈ôe≈æ√≠)"}, {"time": "18:30", "cs": "P≈ôedkolo mari√°≈°e (Ev≈æen ‚Äì Beethovenova ulice)", "en": "Mari√°≈° Preliminaries (Ev≈æen ‚Äì Beethovenova ulice)"}]}, {"date": "Nedƒõle 03.08.2025", "events": [{"time": "10:00", "cs": "Kl√°da (Are√°l Zdrav√≠ Kyle≈°ovice)", "en": "Log Fight (Are√°l Zdrav√≠ Kyle≈°ovice)"}, {"time": "13:00", "cs": "Pliv√°n√≠ oliv (Orlovna, Kyle≈°ovice)", "en": "Olive Spitting (Orlovna, Kyle≈°ovice)"}, {"time": "14:00", "cs": "Hork√Ω brambor (Orlovna, Kyle≈°ovice)", "en": "Hot Potato (Orlovna, Kyle≈°ovice)"}, {"time": "17:00", "cs": "Poker (U P≈ôemka ‚Äì poker ar√©na)", "en": "Poker (U P≈ôemka ‚Äì Poker Arena)"}, {"time": "18:00", "cs": "Mari√°≈° ‚Äì 1. kolo (Ev≈æen ‚Äì Beethovenova ulice)", "en": "Mari√°≈° ‚Äì 1st Round (Ev≈æen ‚Äì Beethovenova ulice)"}]}, {"date": "Pondƒõl√≠ 04.08.2025", "events": [{"time": "17:00", "cs": "SCLE ‚Äì B-TEAM (R- PIMLICO)", "en": "SCLE ‚Äì B-TEAM (R- PIMLICO)"}, {"time": "17:00", "cs": "CST ‚Äì PIVO≈áKA (R- GUMMA)", "en": "CST ‚Äì PIVO≈áKA (R- GUMMA)"}, {"time": "18:00", "cs": "UNIVERSITA ‚Äì GUMMA (R- CST)", "en": "UNIVERSITA ‚Äì GUMMA (R- CST)"}, {"time": "18:00", "cs": "PIMLICO ‚Äì UGANDA (R- SCLE)", "en": "PIMLICO ‚Äì UGANDA (R- SCLE)"}, {"time": "20:00", "cs": "Bowling (Raketa bowling ‚Äì Krnovsk√° ulice)", "en": "Bowling (Raketa bowling ‚Äì Krnovsk√° ulice)"}]}, {"date": "√öter√Ω 05.08.2025", "events": [{"time": "17:00", "cs": "SCLE ‚Äì GUMMA (R- PIVO≈áKA)", "en": "SCLE ‚Äì GUMMA (R- PIVO≈áKA)"}, {"time": "17:00", "cs": "CST ‚Äì UGANDA (R- UNIVERSITA)", "en": "CST ‚Äì UGANDA (R- UNIVERSITA)"}, {"time": "18:00", "cs": "UNIVERSITA ‚Äì B-TEAM (R- UGANDA)", "en": "UNIVERSITA ‚Äì B-TEAM (R- UGANDA)"}, {"time": "18:00", "cs": "PIMLICO ‚Äì PIVO≈áKA (R- GUMMA)", "en": "PIMLICO ‚Äì PIVO≈áKA (R- GUMMA)"}, {"time": "20:00", "cs": "Mari√°≈° ‚Äì 2. kolo (Ev≈æen ‚Äì Beethovenova ulice)", "en": "Mari√°≈° ‚Äì 2nd Round (Ev≈æen ‚Äì Beethovenova ulice)"}]}, {"date": "St≈ôeda 06.08.2025", "events": [{"time": "17:00", "cs": "SCLE ‚Äì UNIVERSITA (R- PIVO≈áKA)", "en": "SCLE ‚Äì UNIVERSITA (R- PIVO≈áKA)"}, {"time": "17:00", "cs": "CST ‚Äì PIMLICO (B-TEAM)", "en": "CST ‚Äì PIMLICO (B-TEAM)"}, {"time": "18:00", "cs": "GUMMA ‚Äì B-TEAM (R- CST)", "en": "GUMMA ‚Äì B-TEAM (R- CST)"}, {"time": "18:00", "cs": "UGANDA ‚Äì PIVO≈áKA (SCLE)", "en": "UGANDA ‚Äì PIVO≈áKA (SCLE)"}, {"time": "20:00", "cs": "T√Ωmov√© veƒç√≠rky", "en": "Team Parties"}]}, {"date": "ƒåtvrtek 07.08.2025", "events": [{"time": "17:00", "cs": "4A ‚Äì 4B (R-1A/2B)", "en": "4A ‚Äì 4B (R-1A/2B)"}, {"time": "17:00", "cs": "2A ‚Äì 2B (R-4A/3B)", "en": "2A ‚Äì 2B (R-4A/3B)"}, {"time": "18:00", "cs": "3A ‚Äì 3B (R-1B/2A)", "en": "3A ‚Äì 3B (R-1B/2A)"}, {"time": "18:00", "cs": "1A ‚Äì 1B (R-3A/4B)", "en": "1A ‚Äì 1B (R-3A/4B)"}, {"time": "20:00", "cs": "Mari√°≈° ‚Äì mal√© a velk√© fin√°le (Ev≈æen ‚Äì Beethovenova ulice)", "en": "Mari√°≈° ‚Äì Small & Grand Final (Ev≈æen ‚Äì Beethovenova ulice)"}]}, {"date": "P√°tek 08.08.2025", "events": [{"time": "16:00", "cs": "Fotbal (umƒõl√° tr√°va Kyle≈°ovice)", "en": "Football (Artificial Turf Kyle≈°ovice)"}, {"time": "17:00", "cs": "Fotbal ≈ΩENY (umƒõl√° tr√°va Kyle≈°ovice)", "en": "Women's Football (Artificial Turf Kyle≈°ovice)"}, {"time": "18:00", "cs": "Mari√°≈°", "en": "Mari√°≈°"}, {"time": "20:00", "cs": "OLDIE'S party (Orlovna, Kyle≈°ovice)", "en": "OLDIE'S party (Orlovna, Kyle≈°ovice)"}]}, {"date": "Sobota 09.08.2025", "events": [{"time": "12:00", "cs": "Hod vejcem (Kolof√≠kovo n√°b≈ôe≈æ√≠)", "en": "Egg Throwing (Kolof√≠kovo n√°b≈ôe≈æ√≠)"}, {"time": "13:00", "cs": "Hod galo≈°em (Kolof√≠kovo n√°b≈ôe≈æ√≠)", "en": "Boot Throwing (Kolof√≠kovo n√°b≈ôe≈æ√≠)"}, {"time": "14:00", "cs": "Skluz pro lahv√°ƒç (Kolof√≠kovo n√°b≈ôe≈æ√≠)", "en": "Beer Slide (Kolof√≠kovo n√°b≈ôe≈æ√≠)"}, {"time": "19:00", "cs": "46. Ples Ugandy (Chval√≠kovice)", "en": "46th Uganda Ball (Chval√≠kovice)"}, {"time": "20:00", "cs": "Sedm stateƒçn√Ωch", "en": "7 Brave"}]}];

    let currentLang = "cs";

    function hasPhysicalLocation(text) {
      return physicalLocations.some(loc => text.includes(loc));
    }

    function getLocationName(text) {
      for (const loc of physicalLocations) {
        if (text.includes(loc)) return loc;
      }
      return null;
    }

    function downloadICS(date, time, title) {
      const match = date.match(/\d{2}\.\d{2}\.\d{4}/);
      const [day, month, year] = match ? match[0].split(".") : ["01","08","2025"];
      const dt = new Date(`${year}-${month}-${day}T${time}:00`);
      const dtstamp = dt.toISOString().replace(/[-:]/g, "").split(".")[0] + "Z";
      const dtend = new Date(dt.getTime() + 60*60*1000).toISOString().replace(/[-:]/g, "").split(".")[0] + "Z";
      const ics = `BEGIN:VCALENDAR
VERSION:2.0
BEGIN:VEVENT
DTSTAMP:${dtstamp}
DTSTART:${dtstamp}
DTEND:${dtend}
SUMMARY:${title}
END:VEVENT
END:VCALENDAR`;
      const blob = new Blob([ics], {type: 'text/calendar'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = title.replace(/\s+/g,"_") + ".ics";
      a.click();
      URL.revokeObjectURL(url);
    }

    function openMap(location) {
      const url = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(location + ", Opava, Czech Republic")}`;
      window.open(url, '_blank');
    }

    function renderSchedule() {
      const container = document.getElementById('schedule');
      container.innerHTML = '';
      schedule.forEach(day => {
        const dayDiv = document.createElement('div');
        dayDiv.className = 'day';
        const header = document.createElement('div');
        header.className = 'day-header';
        header.textContent = day.date;
        header.onclick = () => {
          const eventsDiv = dayDiv.querySelector('.events');
          eventsDiv.style.display = eventsDiv.style.display === 'block' ? 'none' : 'block';
        };
        const eventsDiv = document.createElement('div');
        eventsDiv.className = 'events';
        day.events.forEach(ev => {
          const evDiv = document.createElement('div');
          evDiv.className = 'event';
          const title = currentLang === 'cs' ? ev.cs : ev.en;
          let buttons = `<button class="calendar-btn" onclick="downloadICS('${day.date}','${ev.time}','${title}')">üìÖ</button>`;
          if (hasPhysicalLocation(title)) {
            const loc = getLocationName(title);
            if (loc) {
              buttons += `<button class="map-btn" onclick="openMap('${loc}')">üìç</button>`;
            }
          }
          evDiv.innerHTML = `<span>${ev.time} ${title}</span><span>${buttons}</span>`;
          eventsDiv.appendChild(evDiv);
        });
        dayDiv.appendChild(header);
        dayDiv.appendChild(eventsDiv);
        container.appendChild(dayDiv);
      });
    }

    function toggleLanguage() {
      currentLang = currentLang === 'cs' ? 'en' : 'cs';
      document.querySelector('.toggle-lang').textContent = currentLang === 'cs' ? 'English' : 'ƒåesky';
      renderSchedule();
    }

    renderSchedule();
  </script>
</body>
</html>
